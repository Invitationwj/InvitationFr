<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>W&J</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Intro vidÃ©o -->
  <div id="intro">
    <!-- <button onclick="document.getElementById('intro-video').muted = false;">
  ğŸ”Š Activer le son
</button>-->
     <button id="soundButton">
        ğŸ”Š Activer le son
    </button>
    <video id="intro-video" autoplay muted playsinline>
      <source src="finalfinal8.mp4" type="video/mp4" />
      Ton navigateur ne supporte pas la vidÃ©o.
    </video>
    <audio id="intro-music" autoplay muted loop>
  <source src="son.mp3" type="audio/mp3" />
</audio>
  </div>

  <!-- Background vidÃ©o -->
  <video autoplay muted loop playsinline id="video-background">
    <source src="fondwj3.mp4" type="video/mp4" />
    Ton navigateur ne supporte pas la vidÃ©o.
  </video>

  <!-- Contenu du site -->
  <div id="site-content">
    <div class="conteneur-texte">

      <!-- Texte principal (tel que sur l'image) -->
      <section class="inv-text">
        <div class="headline">W &amp; J<br></div>

        <p class="lead">ChÃ¨re famille, chers amis,</p>

        <p class="highlight">âœ¨ Breaking news âœ¨ : on se marie ! Et non, ce nâ€™est pas une rumeur ğŸ¥¹</p>
        <p>
          Nous avons dÃ©cidÃ© de nous dire <strong>  OUI pour la vie<br></strong> ğŸ’ Et pour rien au monde, nous
          nâ€™imaginerions cÃ©lÃ©brer ce jour sans vous.<br>
        </p>

        <p>
          Nous serons trÃ¨s heureux de vous compter parmi nous pour partager cette soirÃ©e unique, remplie
          dâ€™amour, de rires et de souvenirs inoubliables.<br><br><br> le <strong> ğŸ—’ Samedi 6 dÃ©cembre 2025 <br> Ã  partir de 19h et jusquâ€™Ã  2h00.</strong><br>
          <strong>Au Pavillon Dauphine, Pl. du MarÃ©chal de Lattre de Tassigny, 75116 Paris.</strong>
        </p>

        <div class="separator">|</div>

        <p class="programme-title"><span style="position: relative; left: -50px;">Au programme :</span></p>
        <ul class="points">
          <li>Des saveurs douces et raffinÃ©es pour Ã©veiller vos papillesğŸ¡</li>
          <li>Des mÃ©lodies pour vibrer ensemble jusquâ€™au bout de la nuit ğŸ¶</li>
          <li>Des instants magiques qui deviendront de belles histoires Ã  raconter âœ¨</li>
        </ul>

        <p>Merci de confirmer votre prÃ©sence avant le <strong>30 septembre 2025</strong>.</p>
      </section>

      <!-- Formulaire intÃ©grÃ© dans la colonne -->
      <section class="rsvp-section" aria-labelledby="rsvp-title">
        <h2 id="rsvp-title">Non/PrÃ©nom</h2>

        <form id="rsvp-form" action="https://formspree.io/f/xblawojd" method="POST" novalidate>
          <!-- nom -->
          <label class="label-text" for="fullname"></label>
          <input id="fullname" name="fullname" type="text" required placeholder="Ex : Marie Dupont">

          <!-- prÃ©sence : cases cÃ´te Ã  cÃ´te (utilisation de radio conseillÃ©, mais on garde style visuel comme sur l'image) -->
          <div class="inline-choices" role="radiogroup" aria-label="PrÃ©sence">
            <label class="choice">
              <input type="radio" name="attendance" value="oui" required> <span>Oui, je viens ! (et je compte bien mettre le feu au dancefloor ğŸ”¥)</span>
            </label>
            <label class="choice">
              <input type="radio" name="attendance" value="non"> <span>Non, je ne viens pasâ€¦ (et je le regretterai toute ma vie ğŸ˜­)</span>
            </label>
          </div>

          <!-- choix du repas -->
          <fieldset class="meal-fieldset" aria-label="Choix du repas">
            <p>Choix du repas<p>
            <label class="meal">
              <input type="radio" name="meal" value="viande" required> Viande
            </label>
            <label class="meal">
              <input type="radio" name="meal" value="vegetarien"> VÃ©gÃ©tarien
            </label>
          </fieldset>

          <!-- Dress code + petite note -->
          <div class="dresscode">
            <p>Dress code :</p>
            <p class="small">ğŸ‘— Femmes : une tenue verte Ã©lÃ©gante (oui, on veut une salle pleine dâ€™Ã©meraudes âœ¨).<br>
            ğŸ‘” Hommes : Enfilez un costume noir et une chemise blancheâ€¦et devenez les princes de notre soirÃ©e ğŸ¤ğŸ–¤ </p>
          </div>

          <div class="parents-note">
            <p>Petit mot aux parents :</p>
            <p>Glissez un tendre bonne nuit Ã  vos enfants avant de partirâ€¦ cette soirÃ©e est rien que pour vous ğŸ˜Š</p>
          </div>

          <!-- bouton envoyer -->
          <div class="submit-wrap">
            <button type="submit" class="btn-submit">CONFIRMER</button>
          </div>

          <!-- message de confirmation envoyÃ© (sera affichÃ© via JS si tu veux) -->
          <div id="form-msg" aria-live="polite" class="form-msg" hidden></div>
        </form> <br><br>
        <p><i>Votre invitation est nominative et rien que pour vous, pas de guest surprise ğŸ˜….</i></p> <br><br>
    <p>Avec toute notre affection ğŸ’</p>
        <p class="names">CHERIF &amp; LAFOURCADE</p>
      </section>
      
       <!--<div class="partie1">  ICIC ya le debutan cienne aprtie  </div>
    
      <div class="rsvp">
        <h2>RSVP</h2>
        <form action="https://formspree.io/f/xdklnnpg" method="POST">
          <label for="nom">Nom et prÃ©nom:</label>
          <input type="text" id="nom" name="nom" required>

          <div class="checkboxes">
            <label><input type="checkbox" name="presence" value="oui"> Oui</label>
            <label><input type="checkbox" name="presence" value="non"> Non</label>
          </div>
       

          <input type="submit" value="Envoyer">
        </form> 
      </div>-->

  <footer>
   
  </footer>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const intro = document.getElementById('intro');
  const video = document.getElementById('intro-video');
  const introMusic = document.getElementById('intro-music');
  const unmuteBtn = document.getElementById('unmute-btn');

  // Assure que la vidÃ©o est bien muted au dÃ©part
  if (video) video.muted = true;

  // Fonction d'activation du son (appelÃ©e seulement aprÃ¨s interaction utilisateur)
  async function activateSoundAndResume() {
    try {
      // DÃ©-mute la vidÃ©o AVANT de relancer la lecture
      video.muted = false;
      video.volume = 1.0;

      // Relancer la vidÃ©o (sur Android, relancer play() aprÃ¨s unmute Ã©vite le blocage)
      await video.play();
    } catch (err) {
      console.warn('video.play() rejetÃ© ou erreur:', err);
      // On essaie quand mÃªme une relance silencieuse
      try { await video.play(); } catch(e){ console.warn('replay Ã©chouÃ©', e); }
    }

    // Lancer la musique (sur interaction utilisateur donc autorisÃ©)
    try {
      await introMusic.play();
    } catch (err) {
      console.warn('introMusic.play() rejetÃ©:', err);
    }

    // On cache le bouton d'activation si prÃ©sent
    if (unmuteBtn) unmuteBtn.style.display = 'none';

    // On supprime les Ã©couteurs globaux
    document.removeEventListener('click', docClickHandler);
    document.removeEventListener('touchstart', docClickHandler);
  }

  // Handler global (un seul appel nÃ©cessaire)
  function docClickHandler(e) {
    activateSoundAndResume();
  }

  // Attache l'Ã©coute sur le bouton (si cliquÃ© explicitement)
  if (unmuteBtn) {
    unmuteBtn.addEventListener('click', (e) => {
      e.stopPropagation(); // Ã©vite double-trigger sur document
      activateSoundAndResume();
    }, { once: true });
  }

  // Attache l'Ã©coute globale pour tout autre clic/touch (une seule fois)
  document.addEventListener('click', docClickHandler, { once: true });
  document.addEventListener('touchstart', docClickHandler, { once: true });

  // Quand la vidÃ©o se termine, on enlÃ¨ve l'intro proprement
  video.addEventListener('ended', () => {
    if (!intro) return;
    intro.style.transition = 'opacity 0.8s ease';
    intro.style.opacity = '0';
    setTimeout(() => { intro.style.display = 'none'; }, 900);
  });

  // Logs d'erreur pour debug rapide
  video.addEventListener('error', () => console.error('Video error', video.error));
  video.addEventListener('stalled', () => console.warn('video stalled'));
  video.addEventListener('suspend', () => console.warn('video suspend'));
  video.addEventListener('canplay', () => console.log('video canplay'));
  video.addEventListener('playing', () => console.log('video playing'));

  // Fallback : bouton "Passer l'intro" si la vidÃ©o ne dÃ©marre pas correctement
  let skipBtn = document.getElementById('skip-intro');
  if (!skipBtn) {
    skipBtn = document.createElement('button');
    skipBtn.id = 'skip-intro';
    skipBtn.textContent = "Passer l'intro";
    skipBtn.style.position = 'fixed';
    skipBtn.style.right = '20px';
    skipBtn.style.top = '20px';
    skipBtn.style.zIndex = 9999;
    skipBtn.style.display = 'none';
    document.body.appendChild(skipBtn);
  }
  skipBtn.addEventListener('click', () => {
    if (intro) {
      intro.style.transition = 'opacity 0.4s ease';
      intro.style.opacity = '0';
      setTimeout(() => { intro.style.display = 'none'; }, 450);
    }
    try { video.pause(); } catch(e){}
  });

  // Si la vidÃ©o est toujours bloquÃ©e au bout de 3s, on montre le skip
  setTimeout(() => {
    if (!video || video.readyState < 2 || video.paused) {
      skipBtn.style.display = 'block';
    }
  }, 3000);
});
</script>

 
  
</body>
</html>
